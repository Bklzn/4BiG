<!DOCTYPE html>
<html lang='pl'>

  <head>
    <meta charset="utf-8">
    <title>Generator ciastka - Cookie</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/cookie.css">
    <link rel="stylesheet" href="css/main1.css">
    <link rel="stylesheet" href="css/login1.css">
    <link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://kit.fontawesome.com/6c40eaf681.js" crossorigin="anonymous"></script>
    <script type="text/javascript">
      $(window).resize(function() {
        var element = document.getElementById("visualization");
        if ($(window).width() < 768) {
          element.classList.remove("sticky-top");
        } else {
          element.classList.add("sticky-top");
        }
      });

      function myFunction0() {
        var x = document.getElementById("myDIV");
        var y = document.getElementById("mainComponent");
        if (x.style.display === "none") {
          x.style.display = "block";
          y.style.boxShadow = "none";
          x.style.borderRadius = "0px 0px 5px 5px";
          y.style.borderRadius = "5px 5px 0px 0px";
        } else {
          x.style.display = "none";
          y.style.boxShadow = "0px 10px 10px rgba(0, 0, 0, 0.08)";
          y.style.borderRadius = "5px 5px 5px 5px";
        }
      }

      function myFunction1() {
        var x = document.getElementById("myDIV1");
        if (x.style.display === "none") {
          x.style.display = "block";
        } else {
          x.style.display = "none";
        }
      }

      function myFunction2() {
        var x = document.getElementById("myDIV2");
        if (x.style.display === "none") {
          x.style.display = "block";
        } else {
          x.style.display = "none";
        }
      }

      function myFunction3() {
        var x = document.getElementById("myLinks");
        if (x.style.display === "block") {
          x.style.display = "none";
        } else {
          x.style.display = "block";
        }
      }

      function open_nav_user() {
        var x = document.getElementById("open_user");
        if (x.style.display === "block") {
          x.style.display = "none";
        } else {
          x.style.display = "block";
        }
      }

      function launch_toast() {
        var x = document.getElementById("toast")
        x.className = "show";
        setTimeout(function() {
          x.className = x.className.replace("show", "");
        }, 5000);
      }

      function launch_toast_delete() {
        var x = document.getElementById("toast_delete")
        x.className = "show";
        setTimeout(function() {
          x.className = x.className.replace("show", "");
        }, 5000);
      }

      $(document).ready(function() {
        $(window).scroll(function() {
          var windowScroll = $(window).scrollTop();
          if (windowScroll > 165) {
            $(".top").fadeIn(300);
          } else {
            $(".top").fadeOut(300);
          }
        });
        $(".top").click(function() {
          $("html,body").animate({
            scrollTop: $("html").offset().top
          });
          return false;
        });
      });

      $('body').on('hidden.bs.modal', '.modal', function() {
        $('.btn').blur();
      }); 

      $(document).ready(function() {
        $('#exampleModalCenter').on('shown.bs.modal', function() {
          $('#cookie_name').trigger('focus');
        });
      });
    </script>
    <style>
      html {
        scroll-behavior: smooth;
      }
      .top {
        width: 50px;
        height: 50px;
        line-height: 50px;
        text-align: center;
        position: fixed;
        bottom: 50px;
        right: 50px;
        border-radius: 50%;
        text-decoration: none;
        display: none;
        animation: .3s;
      }
    </style>
    <script src="apiConnection/Models/Cart.js"></script>
    <script src="apiConnection/Models/Cookie.js"></script>
    <script src="apiConnection/Models/UserReg.js"></script>
    <script src="apiConnection/Models/UserLog.js"></script>
    <script src="apiConnection/Models/Order.js"></script>
    <script src="apiConnection/Models/Delivery.js"></script>
    <script src="apiConnection/Models/NutritionalValues.js"></script>
    <script src="apiConnection/Models/Product.js"></script>
    <script src="apiConnection/Models/Property.js"></script>
    <script src="apiConnection/apiConnection.js"></script>
  </head>
  <body>
    <div id="page-container">
      <div id="content-wrap">
        <header id="header">
        
          <script>
            var header = document.getElementById("header")

            if(window.sessionStorage.getItem("jwt") == null)
              header.innerHTML = '<nav> <div class="navbar navbar-dark p-3" style="background: rgb(111,87,73); background: linear-gradient(270deg, rgba(111,87,73,1) 0%, rgba(124,97,82,1) 40%, rgba(99,77,65,1) 100%); min-height: 75px; box-shadow: 0px -4px 24px 0px rgba(124, 97, 82, 1);"> <a class="navbar-brand text-center" href="main.html" id="navbar"> <h3 class="left mb-0">Cookie</h3> </a> <form class="form-inline" id="navbar-button"> <button class="btn btn-login rounded mr-1" type="button" onclick="location.href=\'login.html\'">Zaloguj się</button> <button class="btn btn-register rounded" type="button" onclick="location.href=\'register.html\'">Zarejestruj się</button> <button class="btn btn-hamburger p-0"type="button" onclick="myFunction3()"><i class="fas fa-bars" style="color: #ffffff; font-size: 36px;"></i></button> </form> </div> <div class="px-3 pb-3 justify-content-end myLinks" id="myLinks" style="display:none; background-color: #7c6152;"> <hr style="margin-top: 0px;"> <div class="container"> <div class="row"> <div class="col pb-2"> <a class="btn btn-login-hamburger" href="login.html" style="margin-left: 5%; min-width: 90%;">Zaloguj się</a> </div> </div> <div class="row"> <div class="col"> <a class="btn btn-register-hamburger" href="register.html" style="margin-left: 5%; min-width: 90%">Zarejestruj się</a> </div> </div> </div> </div> </nav>'
            else
              header.innerHTML = '<nav> <div class="navbar navbar-dark p-3" style="background: rgb(111,87,73); background: linear-gradient(270deg, rgba(111,87,73,1) 0%, rgba(124,97,82,1) 40%, rgba(99,77,65,1) 100%); min-height: 75px; box-shadow: 0px -4px 24px 0px rgba(124, 97, 82, 1);"> <a class="navbar-brand text-center" href="main.html" id="navbar"> <h3 class="left mb-0">Cookie</h3> </a> <form class="form-inline" id="navbar-button"> <button type="button" class="btn btn-cart" onclick="location.href=\'cart.html\'"> <i class="fas fa-shopping-cart"></i> <span class="badge p-0" style="font-size:14px">...</span> </button> <button class="btn btn-hamburger p-0 ml-3" type="button" onclick="open_nav_user()"><i class="fas fa-bars" style="color: #ffffff; font-size: 36px;"></i></button> <button type="button" class="btn btn-login rounded ml-1" onclick="location.href=\'myaccount.html\'"> <i class="fas fa-user"></i> </button> <button class="btn btn-login rounded ml-1" type="button" onclick="logout()"> <i class="fas fa-sign-out-alt"></i> </button> </form> </div> <div class="px-3 pb-3 justify-content-end myLinks" id="open_user" style="display:none; background: rgb(111,87,73); background: linear-gradient(270deg, rgba(111,87,73,1) 0%, rgba(124,97,82,1) 40%, rgba(99,77,65,1) 100%); box-shadow: 0px -4px 24px 0px rgba(124, 97, 82, 1);"> <hr style="margin-top: 0px;"> <div class="container"> <div class="row"> <div class="col pb-2"> <a class="btn btn-login-hamburger" href="myaccount.html" style="margin-left: 5%; min-width: 90%;">Moje konto</a> </div> </div> <div class="row"> <div class="col"> <a class="btn btn-register-hamburger" onclick="logout()" style="margin-left: 5%; min-width: 90%">Wyloguj się</a> </div> </div> </div> </div> </nav>'
          
              function logout(){
                window.sessionStorage.removeItem("jwt")
                window.location.href="main.html"
              }
          </script>
        
        </header>
        <div class="row">
          <div class="col"></div>
          <div class="col-10">
            <div id="nav-home" class="tab-pane fade show active bb-0" role="tabpanel" aria-labelledby="nav-home-tab">

              <div class="row pt-3">
                <div class="col-10 col-sm-12 col-md-10 col-lg-2 szerokosc mx-auto" style="padding-bottom: 2rem;">
                  <div class="list-group sticky-top pt-3" id="list-tab" role="tablist">
                    <a class="btn btn-list mb-2 list-group-item-action active" id="list-profil-list" data-toggle="list" href="#list-home" role="tab" aria-controls="home">
                      Baza ciastka
                    </a>
                    <a class="btn btn-list mb-2 list-group-item-action" id="list-adres-list" data-toggle="list" href="#list-profile" role="tab" aria-controls="profile">
                      Dodatki do bazy
                    </a>
                    <a class="btn btn-list mb-2 list-group-item-action" id="list-order-list" data-toggle="list" href="#list-messages" role="tab" aria-controls="messages">
                      Owoce
                    </a>
                    <a class="btn btn-list mb-2 list-group-item-action" id="list-ankieta-list" data-toggle="list" href="#list-ankieta" role="tab" aria-controls="ankieta">
                      Orzechy i ziarna
                    </a>
                    <a class="btn btn-list list-group-item-action" id="list-settings-list" data-toggle="list" href="#list-settings" role="tab" aria-controls="ustawienia">
                      Czekolada
                    </a>
                  </div>
                </div>
                <div class="col-md-6 col-sm-12 col-12 pt-3 pb-3 rounded-left mx-auto" style="box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.08);">
                  <div class="tab-content" id="nav-tabContent">
                    <script>

                    </script>
                    <div class="tab-pane fade show active" id="list-home" role="tabpanel" aria-labelledby="list-home-list">
                      <script>
                        var Products = GetProductsFromCategory("cookie_base");
                        var inner = '',i=0;
                        Products.forEach(product => {
                          i++;
                          inner+='<div class="row border rounded mx-0 mt-0 mb-3" id="produkt'+i+'" style="border-color: rgba(0, 0, 0, 0.08) !important;"> <div class="col-md-5 col-12 py-2"> <img src="'+product.SVGModelPath+'" class="align-middle m-2 photo" alt="product_img"> </div> <div class="col-md-7 col-12 pt-3 pb-3"> <div class="col font-weight-bold"> '+product.Name+' </div> <div class="w-100"></div> <div class="col font-weight-light"> '+product.Subname+' </div>'
                          var productCount=0;
                          product.Properties.forEach(property =>{
                            productCount++;
                            if(productCount<4) inner+='<div class="col pt-3"> <div class="row"> <div class="col-1 col-sm-1 col-md-2 col-lg-2 d-md-none d-lg-block pr-0"> <img src="'+property.SVGModelPath+'" style="max-width: 24px;"> </div> <div class="col-11 col-sm-11 col-md-12 col-lg-10"> '+property.Name+' </div> </div> </div>';
                          });
                          inner+='<div class="col pb-3"> <div class="row"> <div class="col d-flex justify-content-end mr-3 font-weight-bold"> '+product.Price+' zł </div> </div> </div> <div class="w-100"></div> <div class="row"> <div class="col-6 col-sm-6 col-md-12 col-lg-6 pb-2"> <button class="btn btn-more rounded btn-block" type="button" data-toggle="modal" data-target=".modal'+product.Id+'">Więcej...</button> <div class="modal fade modal'+product.Id+'" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true"> <div class="modal-dialog modal-dialog-centered modal-lg" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title font-weight-bold" id="exampleModalLongTitle">'+product.Name+'</h5> </div> <div class="modal-body"> <div class="container"> <div class="row"> <div class="col font-weight-light"> '+product.Subname+' </div> </div> <div class="row">';
                          
                          product.Properties.forEach(property =>{
                            inner+='<div class="col-12 col-sm-12 col-md-12 col-lg-6 pt-3"> <div class="row"> <div class="col-2"> <img src="'+property.SVGModelPath+'" style="max-width: 34px"> </div> <div class="col" style="line-height: 34px;"> '+property.Name+' </div> </div> </div>';
                          });
                          inner+='</div> <div class="row"> <div class="col pt-3 font-weight-light"> '+product.Description+' </div> </div> <div class="row"> <div class="col pt-3" style="font-size: 12px;"> <a class="font-italic font-weight-light" style="pointer-events: none; cursor: default; color: black;">Wartość odżywcza w 100g: </a> <a>Wartość energetyczna <a>'+product.NutritionalValues.Energy+'</a> ; Tłuszcz <a>'+product.NutritionalValues.FatTotal+'g</a> , w tym kwasy tłuszczowe nasycone <a>'+product.NutritionalValues.SaturatedFat+'g</a> ; Węglowodany <a>'+product.NutritionalValues.Carbohydrate+'g</a> , w tym cukry <a>'+product.NutritionalValues.Sugars+'g</a> ; Białko <a>'+product.NutritionalValues.Protein+'g</a> ; Błonnik <a>'+product.NutritionalValues.Fibre+'g</a> ; Sól <a>'+product.NutritionalValues.Salt+'g</a> </a> </div> <div class="w-100"></div> <div class="col pt-3" style="font-size: 12px;"> <a class="font-italic font-weight-light" style="pointer-events: none; cursor: default; color: black;">Składniki: </a>';
                          inner+='<a>'+product.Ingredients+'</a>';
                          inner+='</div> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-more" data-dismiss="modal">Zamknij</button> </div> </div> </div> </div> </div> <div class="col-6 col-sm-6 col-md-12 col-lg-6"> <button id="addProduct_'+product.Id+'" class="btn btn-add rounded btn-block font-weight-bold sdw3d" data-sdw3d="'+product.Id+' '+product.Category+' '+product.ThreeDModelPath+'" type="button">Dodaj</button> </div> </div> </div> </div>';
                        });
                        document.getElementById('list-home').innerHTML=inner;
                      </script>
                    </div>
                    <div class="tab-pane fade" id="list-profile" role="tabpanel" aria-labelledby="list-profile-list">
                      <script>
                        var Products = GetProductsFromCategory("upgraded_base");
                        var inner = '',i=0;
                        Products.forEach(product => {
                          i++;
                          inner+='<div class="row border rounded mx-0 mt-0 mb-3" id="produkt'+i+'" style="border-color: rgba(0, 0, 0, 0.08) !important;"> <div class="col-md-5 col-12 py-2"> <img src="'+product.SVGModelPath+'" class="align-middle m-2 photo" alt="product_img"> </div> <div class="col-md-7 col-12 pt-3 pb-3"> <div class="col font-weight-bold"> '+product.Name+' </div> <div class="w-100"></div> <div class="col font-weight-light"> '+product.Subname+' </div>'
                          var productCount=0;
                          product.Properties.forEach(property =>{
                            productCount++;
                            if(productCount<4) inner+='<div class="col pt-3"> <div class="row"> <div class="col-1 col-sm-1 col-md-2 col-lg-2 d-md-none d-lg-block pr-0"> <img src="'+property.SVGModelPath+'" style="max-width: 24px;"> </div> <div class="col-11 col-sm-11 col-md-12 col-lg-10"> '+property.Name+' </div> </div> </div>';
                          });
                          inner+='<div class="col pb-3"> <div class="row"> <div class="col d-flex justify-content-end mr-3 font-weight-bold"> '+product.Price+' zł </div> </div> </div> <div class="w-100"></div> <div class="row"> <div class="col-6 col-sm-6 col-md-12 col-lg-6 pb-2"> <button class="btn btn-more rounded btn-block" type="button" data-toggle="modal" data-target=".modal'+product.Id+'">Więcej...</button> <div class="modal fade modal'+product.Id+'" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true"> <div class="modal-dialog modal-dialog-centered modal-lg" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title font-weight-bold" id="exampleModalLongTitle">'+product.Name+'</h5> </div> <div class="modal-body"> <div class="container"> <div class="row"> <div class="col font-weight-light"> '+product.Subname+' </div> </div> <div class="row">';
                          
                          product.Properties.forEach(property =>{
                            inner+='<div class="col-12 col-sm-12 col-md-12 col-lg-6 pt-3"> <div class="row"> <div class="col-2"> <img src="'+property.SVGModelPath+'" style="max-width: 34px"> </div> <div class="col" style="line-height: 34px;"> '+property.Name+' </div> </div> </div>';
                          });
                          inner+='</div> <div class="row"> <div class="col pt-3 font-weight-light"> '+product.Description+' </div> </div> <div class="row"> <div class="col pt-3" style="font-size: 12px;"> <a class="font-italic font-weight-light" style="pointer-events: none; cursor: default; color: black;">Wartość odżywcza w 100g: </a> <a>Wartość energetyczna <a>'+product.NutritionalValues.Energy+'</a> ; Tłuszcz <a>'+product.NutritionalValues.FatTotal+'g</a> , w tym kwasy tłuszczowe nasycone <a>'+product.NutritionalValues.SaturatedFat+'g</a> ; Węglowodany <a>'+product.NutritionalValues.Carbohydrate+'g</a> , w tym cukry <a>'+product.NutritionalValues.Sugars+'g</a> ; Białko <a>'+product.NutritionalValues.Protein+'g</a> ; Błonnik <a>'+product.NutritionalValues.Fibre+'g</a> ; Sól <a>'+product.NutritionalValues.Salt+'g</a> </a> </div> <div class="w-100"></div> <div class="col pt-3" style="font-size: 12px;"> <a class="font-italic font-weight-light" style="pointer-events: none; cursor: default; color: black;">Składniki: </a>';
                          inner+='<a>'+product.Ingredients+'</a>';
                          inner+='</div> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-more" data-dismiss="modal">Zamknij</button> </div> </div> </div> </div> </div> <div class="col-6 col-sm-6 col-md-12 col-lg-6"> <button id="addProduct_'+product.Id+'" class="btn btn-add rounded btn-block font-weight-bold sdw3d" data-sdw3d="'+product.Id+' '+product.Category+' '+product.ThreeDModelPath+'" type="button">Dodaj</button> </div> </div> </div> </div>';
                        });
                        document.getElementById('list-profile').innerHTML=inner;
                      </script>
                    </div>
                    <div class="tab-pane fade" id="list-messages" role="tabpanel" aria-labelledby="list-messages-list">
                      <script>
                        var Products = GetProductsFromCategory("fruits");
                        var inner = '',i=0;
                        Products.forEach(product => {
                          i++;
                          inner+='<div class="row border rounded mx-0 mt-0 mb-3" id="produkt'+i+'" style="border-color: rgba(0, 0, 0, 0.08) !important;"> <div class="col-md-5 col-12 py-2"> <img src="'+product.SVGModelPath+'" class="align-middle m-2 photo" alt="product_img"> </div> <div class="col-md-7 col-12 pt-3 pb-3"> <div class="col font-weight-bold"> '+product.Name+' </div> <div class="w-100"></div> <div class="col font-weight-light"> '+product.Subname+' </div>'
                          var productCount=0;
                          product.Properties.forEach(property =>{
                            productCount++;
                            if(productCount<4) inner+='<div class="col pt-3"> <div class="row"> <div class="col-1 col-sm-1 col-md-2 col-lg-2 d-md-none d-lg-block pr-0"> <img src="'+property.SVGModelPath+'" style="max-width: 24px;"> </div> <div class="col-11 col-sm-11 col-md-12 col-lg-10"> '+property.Name+' </div> </div> </div>';
                          });
                          inner+='<div class="col pb-3"> <div class="row"> <div class="col d-flex justify-content-end mr-3 font-weight-bold"> '+product.Price+' zł </div> </div> </div> <div class="w-100"></div> <div class="row"> <div class="col-6 col-sm-6 col-md-12 col-lg-6 pb-2"> <button class="btn btn-more rounded btn-block" type="button" data-toggle="modal" data-target=".modal'+product.Id+'">Więcej...</button> <div class="modal fade modal'+product.Id+'" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true"> <div class="modal-dialog modal-dialog-centered modal-lg" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title font-weight-bold" id="exampleModalLongTitle">'+product.Name+'</h5> </div> <div class="modal-body"> <div class="container"> <div class="row"> <div class="col font-weight-light"> '+product.Subname+' </div> </div> <div class="row">';
                          
                          product.Properties.forEach(property =>{
                            inner+='<div class="col-12 col-sm-12 col-md-12 col-lg-6 pt-3"> <div class="row"> <div class="col-2"> <img src="'+property.SVGModelPath+'" style="max-width: 34px"> </div> <div class="col" style="line-height: 34px;"> '+property.Name+' </div> </div> </div>';
                          });
                          inner+='</div> <div class="row"> <div class="col pt-3 font-weight-light"> '+product.Description+' </div> </div> <div class="row"> <div class="col pt-3" style="font-size: 12px;"> <a class="font-italic font-weight-light" style="pointer-events: none; cursor: default; color: black;">Wartość odżywcza w 100g: </a> <a>Wartość energetyczna <a>'+product.NutritionalValues.Energy+'</a> ; Tłuszcz <a>'+product.NutritionalValues.FatTotal+'g</a> , w tym kwasy tłuszczowe nasycone <a>'+product.NutritionalValues.SaturatedFat+'g</a> ; Węglowodany <a>'+product.NutritionalValues.Carbohydrate+'g</a> , w tym cukry <a>'+product.NutritionalValues.Sugars+'g</a> ; Białko <a>'+product.NutritionalValues.Protein+'g</a> ; Błonnik <a>'+product.NutritionalValues.Fibre+'g</a> ; Sól <a>'+product.NutritionalValues.Salt+'g</a> </a> </div> <div class="w-100"></div> <div class="col pt-3" style="font-size: 12px;"> <a class="font-italic font-weight-light" style="pointer-events: none; cursor: default; color: black;">Składniki: </a>';
                          inner+='<a>'+product.Ingredients+'</a>';
                          inner+='</div> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-more" data-dismiss="modal">Zamknij</button> </div> </div> </div> </div> </div> <div class="col-6 col-sm-6 col-md-12 col-lg-6"> <button id="addProduct_'+product.Id+'" class="btn btn-add rounded btn-block font-weight-bold sdw3d" data-sdw3d="'+product.Id+' '+product.Category+' '+product.ThreeDModelPath+'" type="button">Dodaj</button> </div> </div> </div> </div>';
                        });
                        document.getElementById('list-messages').innerHTML=inner;
                      </script>
                    </div>
                    <div class="tab-pane fade" id="list-ankieta" role="tabpanel" aria-labelledby="list-ankieta-list"> Ankieta - wyniki
                    </div>
                    <div class="tab-pane fade" id="list-settings" role="tabpanel" aria-labelledby="list-settings-list"> Ustawienia
                    </div>
                  </div>
                </div>

                <div class="col-12 col-sm-12 col-md-6 col-lg-4 pb-3 rounded-right">
                  <div id="visualization" class="sticky-top pt-3">
                    <div id="productList" class="row border rounded mx-1 mt-1 mb-3" style="box-shadow: 0px 10px 10px rgba(0, 0, 0, 0.08); border-color: rgba(0, 0, 0, 0.08) !important;">
                    </div>
                    <div id="3D" class="row border mx-1 mb-1 mt-2 p-2" style="box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.08); border-color: rgba(0, 0, 0, 0.08) !important;">
                      <!-- Wizualizacja -->
                    </div>
                    <div class="d-flex justify-content-center pt-3">
                      <button class="btn btn-delete rounded" type="button" onclick="location.href='index.html'" style="width: 220px">Usuń wszystkie składniki</button>
                    </div>
                    <div class="d-flex justify-content-center pt-2">
                      <button class="btn btn-delete rounded" type="button" data-toggle="modal" data-target=".bd-example-modal-lg-2" style="width: 220px">Wartości odżywcze</button>
                    </div>
                    <div class="d-flex justify-content-center pt-3">
                      <p class="font-weight-bold" style="text-align: center; font-size: 1.25rem">
                        10 ciastek tylko 19.90 zł
                        <br>
                        <small class="form-text text-muted">1.99 zł/ciastko</small>
                      </p>
                    </div>
                    <div class="d-flex justify-content-center pb-3">
                      <button type="button" class="btn btn-add-cart rounded" data-toggle="modal" data-target="#exampleModalCenter" style="width: 220px">
                        <i class="fas fa-shopping-cart" style="text-shadow: 0px 3px 3px rgba(255, 255, 255, .25);"></i>&nbsp;&nbsp;&nbsp;Dodaj do koszyka
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col"></div>
          <div class="modal fade bd-example-modal-lg-2" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title font-weight-bold" id="exampleModalLongTitle">Wartośći odżywcze na 100g</h5>
                </div>
                <div class="modal-body">
                  <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                      <div class="container">
                        <div class="row">
                          <div class="col">Wartość energetyczna</div>
                          <div id="Energy" class="col"></div>
                        </div>
                      </div>
                    </li>
                    <li class="list-group-item">
                      <div class="container">
                        <div class="row">
                          <div class="col">Tłuszcz</div>
                          <div id="TotalFat" class="col"></div>
                        </div>
                      </div>
                    </li>
                    <li class="list-group-item">
                      <div class="container">
                        <div class="row">
                          <div class="col" style="text-indent: 5%">w tym kwasy tłuszczowe nasycone</div>
                          <div id="SaturatedFat" class="col"></div>
                        </div>
                      </div>
                    </li>
                    <li class="list-group-item">
                      <div class="container">
                        <div class="row">
                          <div class="col">Węglowodany</div>
                          <div id="Carbohydrate" class="col"></div>
                        </div>
                      </div>
                    </li>
                    <li class="list-group-item">
                      <div class="container">
                        <div class="row">
                          <div class="col" style="text-indent: 5%">w tym cukry</div>
                          <div id="Sugar" class="col"></div>
                        </div>
                      </div>
                    </li>
                    <li class="list-group-item">
                      <div class="container">
                        <div class="row">
                          <div class="col">Błonnik</div>
                          <div id="Fibre" class="col"></div>
                        </div>
                      </div>
                    </li>
                    <li class="list-group-item">
                      <div class="container">
                        <div class="row">
                          <div class="col">Białko</div>
                          <div id="Protein" class="col"></div>
                        </div>
                      </div>
                    </li>
                    <li class="list-group-item">
                      <div class="container">
                        <div class="row">
                          <div class="col">Sól</div>
                          <div id="Salt" class="col"></div>
                        </div>
                      </div>
                    </li>
                  </ul>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-more" data-dismiss="modal">Zamknij</button>
                </div>
              </div>
            </div>
          </div>
          <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title font-weight-bold" id="exampleModalLongTitle">Nazwij swoje ciastka</h5>
                </div>
                <div class="modal-body">
                  <div class="row">
                    <div class="col-12 pb-3 d-flex justify-content-center">
                      <div class="form">
                        <label for="InputCookieName">Nazwa</label>
                        <input id="nazwaCiastka" type="text" class="form-control input-user">
                      </div>
                    </div>
                    <div class="col-12 pt-3 pb-2 d-flex justify-content-center">
                      <form>
                        <div class="form-group">
                          <label for="InputCookieText">Opis</label>
                          <textarea id="opisCiastka" class="form-control input-user" id="exampleFormControlTextarea1" rows="3"></textarea>
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
                <div class="modal-footer d-flex justify-content-center">
                  <button type="button" class="btn btn-more" data-dismiss="modal" style="min-width: 166px;">Anuluj</button>
                  <button type="button" id="DodajDoKoszyka" class="btn btn-add-cart-modal" style="min-width: 166px;">Dodaj do koszyka</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      <div class="footer-login">
        <footer style="background: rgb(111,87,73); background: linear-gradient(270deg, rgba(111,87,73,1) 0%, rgba(124,97,82,1) 40%, rgba(99,77,65,1) 100%); box-shadow: 0px 4px 24px 0px rgba(124, 97, 82, 1);">
          <div class="container p-4">
            <div class="row">
              <div class="col-lg-6 col-md-12 mb-3">
                <h5 class="mb-3 foo">Footer content</h5>
                <p class="foo-content">
                  Lorem ipsum dolor sit amet consectetur, adipisicing elit. Iste atque ea quis
                  molestias. Fugiat pariatur maxime quis culpa corporis vitae repudiandae aliquam
                  voluptatem veniam, est atque cumque eum delectus sint!
                </p>
              </div>
              <div class="col-lg-3 col-md-6 mb-3">
                <h5 class="mb-3 foo">Links</h5>
                <ul class="list-unstyled mb-0">
                  <li class="mb-1">
                    <a class="foo-content underline" href="page.html#faq" style="text-decoration: none;">FAQ</a>
                  </li>
                  <li class="mb-1">
                    <a class="foo-content underline" href="page.html#obsluga" style="text-decoration: none;">Obsługa</a>
                  </li>
                  <li class="mb-1">
                    <a class="foo-content underline" href="page.html#polityka" style="text-decoration: none;">Polityka prywatności</a>
                  </li>
                  <li>
                    <a class="underline foo-content" href="page.html#regulamin" style="text-decoration: none;">Regulamin</a>
                  </li>
                  <li>
                    <a class="underline foo-content" href="contact.html" style="text-decoration: none;">Kontakt</a>
                  </li>
                </ul>
              </div>
              <div class="col-lg-3 col-md-6 mb-3">
                <h5 class="mb-1 foo">Social Media</h5>
                <div class="container d-flex justify-content-center py-2">
                  <button type="button" class="btn btn-lg btn-facebook px-3 py-0 mx-1 d-flex align-items-center justify-content-center rounded-circle" onclick="location.href=''">
                    <i class="fab fa-facebook-f"></i>
                  </button>
                  <button type="button" class="btn btn-instagram px-3 py-0 mx-1 d-flex align-items-center justify-content-center rounded-circle" onclick="location.href=''">
                    <i class="fab fa-instagram" style="font-size: 24px;"></i>
                  </button>
                  <button type="button" class="btn btn-twitter px-3 py-0 mx-1 d-flex align-items-center justify-content-center rounded-circle" onclick="location.href=''">
                    <i class="fab fa-twitter" style="font-size: 24px;"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div class="text-center foo p-3" style="background: rgb(65,57,56); background: linear-gradient(270deg, rgba(65,57,56,1) 0%, rgba(73,64,63,1) 40%, rgba(58,51,50,1) 100%);">
            © 2022 Copyright:
            <a class="foo-content underline" href="page.html">4BiG</a>
          </div>
        </footer>
      </div>
    </div>
    		<button onclick="launch_toast()">Popup na błąd zbyt dużej liczby składników</button>
                <button onclick="launch_toast_delete()">Popup na usunięcie składników</button>


    <div id="toast">
      <div id="img" class="fas fa-exclamation"></div>
      <div id="desc">Zbyt dużo składników</div>
    </div>
    <script type="importmap">
      {
          "imports": {
              "three": "../threejs/three/build/three.module.js"
          }
      }
    </script>
    <script>
      var CookieProduct = new Cookie();
    </script>
    <script type="module" src="/threejs/main.js">
    </script>
    <script>
      function productList(){
      var Products = GetAllProducts(), sumEnergy=0,sumFatTotal=0,sumCarbon=0,sumSaturatedFat=0,sumCarbon=0,sumSugar=0,sumFibre=0,sumProtein=0,sumSalt=0, weight=0;
      var inner="";
      Products.forEach(product =>{
        if(product.Id==CookieProduct.BaseId){
          inner= '<div class="col pt-1 mt-2 mx-2" style="cursor: pointer;"> <div class="row border pt-1 pb-1" id="mainComponent'+product.Id+'" style="box-shadow: 0px 10px 10px rgba(0, 0, 0, 0.08); border: 1px solid rgba(0, 0, 0, 0.08) !important; border-radius: 0.25rem !important;"> <div class="col-2 my-auto"> <img src="'+product.SVGModelPath+'"> </div> <div class="col my-auto"> '+product.Name+' </div> <div class="col my-auto d-flex justify-content-end"> 1 </div> </div> </div> <div class="w-100"></div> <div class="col mx-2 p-1 border-top-0 border" style="display: block; border-color: rgba(0, 0, 0, 0.08) !important;" id="myDIV'+product.Id+'"> <div class="row"> <div class="col-3 my-auto pl-4"> <button class="btn btn-plus fas fa-trash"></button> </div> <div class="col-9 my-auto pr-4 d-flex justify-content-end">Baza ciastka</div></div></div><div class="w-100"></div>'+inner     
          sumEnergy+=product.NutritionalValues.Energy;
          sumFatTotal+=product.NutritionalValues.FatTotal;
          sumSaturatedFat+=product.NutritionalValues.SaturatedFat;
          sumCarbon+=product.NutritionalValues.Carbohydrate;
          sumSugar+=product.NutritionalValues.Sugars;
          sumFibre+=product.NutritionalValues.Fibre;
          sumProtein+=product.NutritionalValues.Protein;
          sumSalt+=product.NutritionalValues.Salt;
          weight+=product.Weight
        }
        if(product.Id==CookieProduct.UpgradedBaseId||CookieProduct.FruitsIds.includes(String(product.Id))){
          inner+='<div class="col pt-1 mt-2 mx-2" style="cursor: pointer;"> <div class="row border pt-1 pb-1" id="mainComponent'+product.Id+'" style="box-shadow: 0px 10px 10px rgba(0, 0, 0, 0.08); border: 1px solid rgba(0, 0, 0, 0.08) !important; border-radius: 0.25rem !important;"> <div class="col-2 my-auto"> <img src="'+product.SVGModelPath+'"> </div> <div class="col my-auto"> '+product.Name+' </div> <div class="col my-auto d-flex justify-content-end"> 1 </div> </div> </div> <div class="w-100"></div> <div class="col mx-2 p-1 border-top-0 border" style="display: block; border-color: rgba(0, 0, 0, 0.08) !important;" id="myDIV'+product.Id+'"> <div class="row"> <div class="col-3 my-auto pl-4"> <button class="btn btn-plus fas fa-trash"></button> </div> <div class="col-9 my-auto pr-4 d-flex justify-content-end">'
          switch(product.Category){
            case "upgraded_base":
              inner+="Dodatki do bazy"
            break;
            default:
              inner+="Owoce"
            break;
          }
          inner+='</div></div></div><div class="w-100"></div>'

          sumEnergy+=product.NutritionalValues.Energy;
          sumFatTotal+=product.NutritionalValues.FatTotal;
          sumSaturatedFat+=product.NutritionalValues.SaturatedFat;
          sumCarbon+=product.NutritionalValues.Carbohydrate;
          sumSugar+=product.NutritionalValues.Sugars;
          sumFibre+=product.NutritionalValues.Fibre;
          sumProtein+=product.NutritionalValues.Protein;
          sumSalt+=product.NutritionalValues.Salt;
          weight+=product.Weight

        }
      })      
      document.getElementById("productList").innerHTML=inner;

      document.getElementById("Energy").innerHTML=sumEnergy.toFixed(2)
      document.getElementById("TotalFat").innerHTML=sumFatTotal*(100/weight).toFixed(2)
      document.getElementById("SaturatedFat").innerHTML=sumSaturatedFat*(100/weight).toFixed(2)
      document.getElementById("Carbohydrate").innerHTML=sumCarbon*(100/weight).toFixed(2)
      document.getElementById("Sugar").innerHTML=sumSugar*(100/weight).toFixed(2)
      document.getElementById("Fibre").innerHTML=sumFibre*(100/weight).toFixed(2)
      document.getElementById("Protein").innerHTML=sumProtein*(100/weight).toFixed(2)
      document.getElementById("Salt").innerHTML=sumSalt*(100/weight).toFixed(2)

      }

      var EditedCookieId = null;

      document.getElementById("DodajDoKoszyka").addEventListener("click",()=>{
        CookieProduct.setNameDesc(document.getElementById("nazwaCiastka").value, document.getElementById("opisCiastka").value);
        var id=CreateCookie(CookieProduct);
        if(id!=null){
            if(sessionStorage.getItem("cart")==null){
                var order = new Cart()
            }
            else{
                var order = new Cart()
                order.parseCart(JSON.parse(sessionStorage.getItem("cart")))
            }
            order.addCookie(id)
            if(EditedCookieId != null) order.removeCookie(EditedCookieId)
            sessionStorage.setItem("cart",JSON.stringify(order));
            window.location.href ='cart.html';
            return;
        }
      })
      function remove(id){
        var order = new Cart()
        order.parseCart(JSON.parse(sessionStorage.getItem("cart")));
        order.removeCookie(id);
        sessionStorage.setItem("cart",JSON.stringify(order));
        window.location.href ='cart.html';
	    }
      window.onload=function(){
        const queryString = window.location.search
        if(queryString != ""){
          const urlParams = new URLSearchParams(queryString)
          EditedCookieId = urlParams.get("id")

          const cookie = GetCookie(EditedCookieId)
          document.getElementById("nazwaCiastka").value=cookie.Name
          document.getElementById("opisCiastka").value=cookie.Description
          cookie.Products.forEach(product => {
            document.getElementById("addProduct_"+product.Id).click();
          })

          productList()
        }
      }
    </script>
    <div id="toast_delete">
      <div id="img" class="fas fa-exclamation"></div>
      <div id="desc">Składniki usunięte</div>
    </div>

  </body>

</html>

